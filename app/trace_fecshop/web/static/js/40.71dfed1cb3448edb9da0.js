webpackJsonp([40],{NHOO:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"\n.message fieldset {\n  border: 1px solid #ccc;\n}\n.advertise_table tr td {\n  color: green;\n}\n",""])},kqLY:function(e,t,s){var a=s("NHOO");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("68e02545",a,!0)},pv83:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("vLgD");var i=s("cAgV"),r=s("EOrk"),l=s("y7P9"),n=s("/dGt"),c={name:"marketGroupComplexTable",components:{Linechart:r.a,Lineratechart:l.a,Piechart:n.a},directives:{waves:i.a},data:function(){return{listQuery:{campaign:"",design:"",designOptions:{},advertise_url:"",advertise_cost:"",remark:"",channel:"",channelOptions:{},channel_child:"",channelChildOptions:{},is_create:"2"},advertise_success:{},advertise_error:"",copyBtn:null,isSuccess:!1,advertise_url:"",advertise_warning:""}},mounted:function(){this.copyBtn=new this.Clipboard(this.$refs.copy)},created:function(){this.getList("1")},methods:{copyLink:function(){var e=this,t=e.copyBtn;t.on("success",function(){e.$message({message:"复制成功！",type:"success"})}),t.on("error",function(){e.$message({message:"复制失败，请手动选择复制！",type:"error"})})},getList:function(e){var t,s=this;this.listLoading=!0,console.log(this.listQuery),this.listQuery.is_create=e,(t=this.listQuery,Object(a.a)({url:"/v1/whole/advertise/init",method:"get",params:t})).then(function(t){s.listQuery.channel=t.data.channel,s.listQuery.channelOptions=t.data.channelOptions,s.listQuery.channel_child="",s.listQuery.channelChildOptions=t.data.channelChildOptions,"1"===e&&(s.listQuery.designOptions=t.data.designOptions),s.listLoading=!1}).catch(function(){s.listLoading=!1,s.$message({message:"获取 Channel child 失败",type:"error"})})},handleChannel:function(){this.getList("2")},generateAdvertieseUrl:function(){var e,t=this,s=this;this.listLoading=!0,console.log(this.listQuery),(e=this.listQuery,Object(a.a)({url:"/v1/whole/advertise/generateurl",method:"get",params:e})).then(function(e){s.advertise_success=e.data.success_info,s.advertise_warning=e.data.warning,s.advertise_error=e.data.error,s.isSuccess=!0,s.advertise_success&&s.advertise_success.advertise_url&&(s.advertise_url=s.advertise_success.advertise_url),t.listLoading=!1}).catch(function(){t.listLoading=!1,t.$message({message:"生成广告链接失败",type:"error"})})}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container calendar-list-container"},[s("div",{staticClass:"top_form"},[s("el-select",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{clearable:"",placeholder:e.$t("table.channel")},on:{change:e.handleChannel},model:{value:e.listQuery.channel,callback:function(t){e.$set(e.listQuery,"channel",t)},expression:"listQuery.channel"}},e._l(e.listQuery.channelOptions,function(e){return s("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),e._v(" "),s("el-select",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{clearable:"",placeholder:e.$t("table.channel_child")},model:{value:e.listQuery.channel_child,callback:function(t){e.$set(e.listQuery,"channel_child",t)},expression:"listQuery.channel_child"}},e._l(e.listQuery.channelChildOptions,function(e){return s("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:e.$t("table.campaign_info")},model:{value:e.listQuery.campaign,callback:function(t){e.$set(e.listQuery,"campaign",t)},expression:"listQuery.campaign"}}),e._v(" "),s("el-select",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{clearable:"",placeholder:e.$t("table.design_person")},model:{value:e.listQuery.design,callback:function(t){e.$set(e.listQuery,"design",t)},expression:"listQuery.design"}},e._l(e.listQuery.designOptions,function(e){return s("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),e._v(" "),s("br"),s("br"),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"900px"},attrs:{clearable:"",placeholder:e.$t("table.advertise_url_info")},model:{value:e.listQuery.advertise_url,callback:function(t){e.$set(e.listQuery,"advertise_url",t)},expression:"listQuery.advertise_url"}}),e._v(" "),s("br"),s("br"),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:e.$t("table.advertise_cost_info")},model:{value:e.listQuery.advertise_cost,callback:function(t){e.$set(e.listQuery,"advertise_cost",t)},expression:"listQuery.advertise_cost"}}),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"500px"},attrs:{clearable:"",placeholder:e.$t("table.advertise_remark")},model:{value:e.listQuery.remark,callback:function(t){e.$set(e.listQuery,"remark",t)},expression:"listQuery.remark"}}),e._v(" "),s("br"),s("br"),e._v(" "),s("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.generateAdvertieseUrl}},[e._v(e._s(e.$t("table.generate_advertise_url")))]),e._v(" "),s("br"),s("br"),e._v(" "),s("br"),s("br"),e._v(" "),s("div",{staticClass:"message"},[s("div",[s("fieldset",{attrs:{id:"fieldset_table_qbe"}},[s("legend",{staticStyle:{color:"#f60"}},[e._v(e._s(e.$t("table.advertise_warning")))]),e._v(" "),s("div",{staticClass:"tishi_info",staticStyle:{color:"#f60"}},[e._v("\n            "+e._s(e.advertise_warning)+"     \n          ")])])]),e._v(" "),s("br"),e._v(" "),s("div",[s("fieldset",{attrs:{id:"fieldset_table_qbexx"}},[s("legend",{staticStyle:{color:"#cc0000"}},[e._v(e._s(e.$t("table.advertise_error")))]),e._v(" "),s("div",{staticClass:"tishi_info",staticStyle:{color:"#cc0000"}},[e._v("\n            "+e._s(e.advertise_error)+" \t\t\t\n          ")])])]),e._v(" "),s("br"),e._v(" "),s("div",[s("fieldset",{attrs:{id:"fieldset_table_qbe"}},[s("legend",{staticStyle:{color:"green"}},[e._v(e._s(e.$t("table.advertise_success")))]),e._v(" "),s("div",{staticClass:"tishi_info",staticStyle:{color:"green"}},[s("table",{staticClass:"el-table advertise_table"},[s("tbody",[s("tr",[s("td",[e._v(e._s(e.$t("table.success_info")))]),s("td",[e.isSuccess?s("span",[e._v("您已经成功生成了广告链接，点击下面的按钮复制，就可以了。")]):e._e()])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.advertise_url")))]),s("td",[e._v(e._s(e.advertise_success.advertise_url))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.click_to_copy")))]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.advertise_url,expression:"advertise_url"}],attrs:{type:"text",id:"success_form_input",readonly:"readonly"},domProps:{value:e.advertise_url},on:{input:function(t){t.target.composing||(e.advertise_url=t.target.value)}}}),e._v(" "),s("button",{ref:"copy",attrs:{"data-clipboard-action":"copy","data-clipboard-target":"#success_form_input"},on:{click:e.copyLink}},[e._v("复制")])])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.created_at")))]),s("td",[e._v(e._s(e._f("parseTime")(e.advertise_success.created_at,"{y}-{m}-{d} {h}:{i}:{s}")))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.origin_url")))]),s("td",[e._v(e._s(e.advertise_success.origin_url))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.fid")))]),s("td",[e._v(e._s(e.advertise_success.fid))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.channel")))]),s("td",[e._v(e._s(e.advertise_success.channel))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.channel_child")))]),s("td",[e._v(e._s(e.advertise_success.channel_child))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.campaign")))]),s("td",[e._v(e._s(e.advertise_success.campaign))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.design_person")))]),s("td",[e._v(e._s(e.advertise_success.design_person))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.advertise_person")))]),s("td",[e._v(e._s(e.advertise_success.advertise_person))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.advertise_market_group")))]),s("td",[e._v(e._s(e.advertise_success.advertise_market_group))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.advertise_cost")))]),s("td",[e._v(e._s(e.advertise_success.advertise_cost))])]),e._v(" "),s("tr",[s("td",[e._v(e._s(e.$t("table.advertise_remark")))]),s("td",[e._v(e._s(e.advertise_success.advertise_remark))])])])])])])])]),e._v(" "),s("br")],1)])},staticRenderFns:[]};var d=s("VU/8")(c,_,!1,function(e){s("kqLY")},null,null);t.default=d.exports}});